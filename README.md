# 당신의 작은 방
게임 포트폴리오   
[프로젝트 소개](https://ksstudy.tistory.com/1)  
[게임 다운로드](https://drive.google.com/file/d/1hoj9A1QB1jnf0Mzhsv2WbtOnVMmleI0n/view?usp=sharing)

## 게임 시연 영상

https://www.youtube.com/embed/MTF188_WJtU

## 게임 기획 배경

> 귀여운 캐릭터와 함께 한숨 돌리고 싶다!
-   복잡하게 머리 쓸 필요없는 힐링 게임이 하고 싶다!
-   좋아하는 캐릭터를 게임 내에 구현하고 싶다!
-   기왕이면 내가 꾸민 방을 돌아다녀 주면 좋겠다!
-   캐릭터와 상호작용하고 싶다!

## 게임 소개

> 커스터마이징 기능을 갖춘 귀여운 힐링 게임
-   캐릭터 커스터마이징 기능
-   게임 내 기준으로 하루에 한 번, 캐릭터를 방에 초대 가능
-   구매한 가구로 방 꾸미기
-   아이템 수집 현황을 볼 수 있는 콜렉션(도감) 기능
-   클릭하기, 메시지 주고받기, 선물 주기 등의 상호작용

## 제작 툴

프로그래밍 : C#, Unity(2019.4.40f1)

그래픽 리소스 : Photoshop, Illustrator, Clip Studio

캐릭터 애니메이션 : Spine

## 게임 내 기능

#### ◆캐릭터 커스터마이징 기능

-   원하는 파츠를 각각 조합해 자신만의 캐릭터를 구현할 수 있다. 또한 머리 / 눈동자 / 옷으로 파츠를 나누어 각각 색을 변경할 수 있다.
-   Spine에서 애니메이션 작업과 skin 설정을 마쳐두었기 때문에 애니메이션에도 변경된 파츠가 그대로 적용된다.
-   각 파츠에 색을 입히기 위해 MaterialPropertyBlock을 사용했으며, 캐릭터 Material의 Shader를 Spine/Skeleton Tint로 변경했다. Tint Color와 Dark Color를 각각 조정해 보다 다양한 색감을 구현할 수 있게 되었다.
-   색상은 두 가지 방식으로 변경할 수 있다. 첫번째는 RGB 값을 각각 슬라이더로 변경하는 것이며 두번째는 다른 곳에서 따온 RGB 색상코드를 입력하고 버튼을 눌러 적용하는 것이다.

#### ◆방 꾸미기 기능

-   일정 영역 안에서만 가구를 배치할 수 있다. 또한 다른 가구가 이미 배치되어 있다면 그곳에는 가구를 배치할 수 없다. 배치가 가능한 위치라면 녹색, 불가능한 위치라면 붉은색 바닥이 뜬다.
-   현재 선택하고 있는 가구에는 이동, 배치, 인벤토리에 넣기(오른쪽 클릭으로도 실행 가능), 좌우 반전 버튼이 보이며, 해당 버튼들을 통해 원하는 기능을 사용할 수 있다.
-   y값을 받아 Order in Layer값을 조정해 y값이 작은 쪽의 이미지가 앞쪽으로 나오게 했다.
-   현재는 클릭하면 그 위치로 가구가 이동하게 되어있지만 추후 드래그를 통해 가구를 이동할 수 있도록 개선할 예정이다.

#### ◆상점 기능

-   판매용 아이템을 등록해둔 리스트를 따로 두어 판매하고 싶은 아이템만 상점에 뜨도록 했다. 각 카테고리별로 아이템타입이 할당되어 있으면 위의 카테고리 버튼을 누르면 해당하는 타입의 아이템을 불러온다.
-   일정 레벨에 도달하면 기존의 리스트에 미리 만들어둔 리스트를 추가하여 상점에서 새로운 아이템을 살 수 있도록 구현했다.

#### ◆인벤토리 기능

-   현재 보유중인 아이템을 리스트로 관리하여 현재 선택중인 카테고리에 해당하는 타입의 아이템만이 보이도록 했다. 
-   아이템에 마우스를 가져다대면 해당 아이템에 관한 간단한 설명이 뜨며, 이때는 텍스트로 아이템의 이름과 설명만이 뜬다.
-   아이템을 클릭하는 경우, 화면과 같이 사용 버튼과 버리기 버튼이 있는 작은 UI창이 뜬다. 이 UI창은 아무 UI도 띄워져있지않은 곳을 누르면 닫힌다. 아이템을 사용하거나 버려서 아이템의 수량이 0이 되면 닫힌다.
-   이 UI창에서 버리기 버튼을 누르면 버리는 수량을 결정할 수 있는 슬라이더가 붙은 작은 UI창이 새로 뜬다. 

#### ◆콜렉션(도감) 기능

-   게임 내의 아이템 데이터들을 전부 불러와 아직 습득하지 못한 아이템은 까맣게, 습득한 아이템들은 본래의 색상으로 보이게 했다.
-   습득한 아이템의 경우, 클릭시 콜렉션 창 오른쪽에 아이템 정보가 뜨도록 하였다.

#### ◆퀘스트 기능

-   퀘스트 역시 리스트로 관리하며, 각 퀘스트마다 조건 충족 여부를 체크하는 변수와 보상을 수령했는지 여부를 체크하는 변수를 만들어주었다.
-   코루틴을 사용하여 퀘스트 조건 충족 여부를 체크하게 하였다.
-   퀘스트 달성 시, 화면 위쪽에 일정 시간동안 퀘스트 달성 알람이 뜨며, 해당 알람을 클릭시 퀘스트 창으로 넘어올 수 있다.
-   이벤트를 이용해 전부 수령하기 기능을 만들었다. 또한 전부 수령하기 버튼을 누르는 경우, LINQ를 이용해 현재 수령가능한 퀘스트 리스트를 뽑아오며 각 보상의 종류를 확인하고 같은 종류의 보상은 합산하여 결과창을 띄우도록 하였다.

#### ◆레벨 시스템

-   먼지를 치우거나, 퀘스트를 수행하는 등의 행동을 통해 경험치를 모을 수 있다.
-   일정량의 경험치를 모으면 미리 설정해둔 경험치 테이블과 비교하여 레벨 업 및 경험치 바를 갱신하도록 하였다.
-   한번에 많은 양의 경험치를 얻어 단번에 레벨이 많이 올라간 경우에도 이전 레벨과 현재 레벨을 표시해주고 각 레벨마다 얻었던 보상들을 합산하여 보여준다.
-   일정 레벨이 되면 상점의 아이템이 추가된다.

#### ◆UI 드래그 이동 기능

-   화면을 가득 채우는 UI 창이나(ex:커스터마이즈), 방에 가구 배치시 소지 중인 가구들을 보여주는 슬롯 목록 등을 제외하고는 대부분의 UI를 드래그해서 이동할 수 있게 했다.
-   해당 UI에서 클릭된 좌표를 가져와(ScreenPointToLocalPointInRectangle 사용) 오프셋으로 사용해 해당 UI 내에서 마우스가 클릭했던 위치가 유지되도록 하였다.
-   또한 UI클릭이나 드래그를 시작하면 해당 UI가 최상단으로 이동하며, 제일 마지막에 연 UI 역시 최상단에 열리도록 하였다.

#### ◆작물 심기

-   가구 배치 시스템을 응용하여 작물 심기가 가능하도록 구현하였다.
-   작물을 심으면 코루틴을 활용해 작성한 타이머가 작동하며, 진행상태에 따라 이미지가 변화하여 작물이 성장하는 것처럼 보이게 했다.
-   작물이 성장 중일 때 클릭하면 수확이 가능하기까지 남은 시간을 표시해준다.
-   작물이 전부 성장하면 수확하기 텍스트가 뜨며, 클릭하면 랜덤한 수량의 수확물을 획득할 수 있다.

#### ◆대화창 기능

-   스토리 진행을 위한 대화창으로 특정 이벤트나, 변동사항이 있으면 나타나 알려주는 역할을 한다.
-   각 이벤트마다 진행했는지 여부를 저장해, 저장 데이터를 불러왔을 때 이전에 보았던 이벤트를 다시 보지 않도록 하였다.

#### ◆저장 기능

-   게임의 진행 상황을 저장하는 기능으로, 배경음량과 효과음량 뿐만 아니라 캐릭터와 플레이어의 이름, 캐릭터의 호감도, 플레이어의 레벨과 경험치, 캐릭터의 커스텀 상황, 이벤트 진행도, 퀘스트 진행도 등을 저장하게 했다.
-   Binary파일로 저장하기 위해 Vector3, Color 등의 데이터를 직렬화하는 함수를 따로 작성했으며, 마찬가지로 저장한 데이터를 역직렬화하는 함수를 작성해 저장해둔 Binary파일로부터 진행상황을 불러올 수 있게 하였다.

#### ◆캐릭터의 호감도/에너지

-   캐릭터와의 호감도를 쌓는 것으로 작은 성취감을 느낄 수 있도록 하였다.
-   캐릭터와의 호감도는 캐릭터와 메시지를 주고 받거나 혹은 선물을 주는 것으로도 올릴 수 있다.
-   캐릭터의 에너지는 매일 리셋되며, 에너지를 다 쓰면 돌아가 버린다.

#### ◆캐릭터가 두고 간 선물

-   캐릭터는 에너지를 다 소모하면 집에 돌아가며, 그때 자신이 가져온 선물을 두고 간다. 

#### ◆랜덤 뽑기 기능

-   캐릭터가 두고 간 선물을 사용하면 랜덤하게 아이템을 얻을 수 있다.
-   흰색 마스코트 아이템 보다 금색 마스코트 아이템의 획득 확률을 더 낮게 설정하였다.

#### ◆캐릭터와 메시지 주고받기

-   매일 캐릭터로부터 랜덤하게 메시지가 도착한다.
-   대화창과 같은 시스템을 사용했으며, 메시지 내용에 따라서는 선택지를 띄워 대화의 방향을 고를 수 있다.
-   대화의 내용에 따라 캐릭터의 호감도가 오를 수도 있다.

#### ◆캐릭터의 도움받기

-   플레이어는 이 방의 주인이지만 차원먼지를 직접 제거할 수 없다는 설정으로, 캐릭터에게 먼지 제거를 부탁해 방에서 먼지를 제거할 수 있다.
-   플레이어의 부탁을 받으면 캐릭터는 일정량의 에너지를 소모해 먼지를 치워준다.
